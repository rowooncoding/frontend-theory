# JWT

> Json Web Token, 인증 및 권한부여 목적으로 사용함!

> 참고 및 출처 : [https://jwt.io/!](https://www.notion.so/880d6484fdd442debf22192a40b3845d)

## 목적

웹 애플리케이션 및 API에서 클라이언트와 서버 간에 **사용자 데이터를 안전하게 전송하는 수단**으로 사용

## 실행

1. 토큰 생성(서버에서 생성)
2. 클라이언트로 전송
3. 클라이언트는 각 후속 요청과 함께 토큰 전송
4. 서버가 사용자를 확인하지 않고도 사용자를 인증하고 권한을 부여함

## 구성

- 헤더
  - 서명을 생성하는 데 사용되는 토큰 유형 및 해싱 알고리즘에 대한 정보가 포함
- 페이로드
  - 토큰이 전달하는 클레임 또는 데이터
- 서명
  - 전송중에 토큰이 변경되지 않았는지 확인

## 특징

JWT는 독립형으로 설계되었으며 세션 데이터의 서버 측 스토리지가 필요하지 않으므로 분산 시스템에서 보다 확장 가능하고 사용하기 쉽다

# 쿠키, 스토리지, 세션

## 쿠키

- 키와 같이 저장되어있는 작은 파일
- 브라우저 상태정보를 로컬에 저장했다가 참조
- 브라우저 당 300개, 하나의 도메인당 20개의 쿠키를 가질 수 있다
- 하나의 쿠키값음 4kb까지 저장가능
- Set-Cookie를 사용하면 쿠키 생성 가능
- 따로 요청하지 않아도 요청을 하면 header를 넣어서 자동으로 서버에 전송한다

## 세션

- 서버에서 관리함
- 브라우저 종료할때 까지 인증상태 유지함
- 접속시간 제한을 둘 수 있다
- 보안 좋음
- 사용자가 많아질수록 메모리를 많이 차지하여 버거워진다

## 스토리지

- key, value의 스토리지 형태
- 자동전송 위험성 없음
- CSRF로 부터 안전
- 쿠키보다 큰 저장공간
- 서버가 HTTP 헤더를 통해 스토리지 객체를 조작할 수 없음
- 오직 문자형만 지원

### 로컬스토리지

- 사용자가 데이터를 지우지 않는 이상, 브라우저나 OS를 종료해도 계속 브라우저에 남아있음 (영구성)
- 지속적으로 필요한 데이터 저장(자동 로그인 등)

### 세션스토리지

- 데이터가 오리진 뿐만 아니라 브라우저 탭에도 종속되기 때문에, 윈도우나 브라우저 탭을 닫을 경우 제거
- 일시적으로 필요한 데이터 저장(일회성 로그인 정보, 입력폼 저장 등)
